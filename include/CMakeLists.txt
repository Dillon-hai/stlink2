configure_file (
	"${CMAKE_CURRENT_SOURCE_DIR}/stlink2/build.h.in"
	"${CMAKE_CURRENT_BINARY_DIR}/stlink2/build.h"
)

file(GLOB STLINK2_HEADERS "${CMAKE_CURRENT_SOURCE_DIR}/stlink2/*.h")
set (STLINK2_HEADERS "${cmake_binary_dir}/include/stlink2/build.h;${STLINK2_HEADERS}" cache internal "stlink2 headers")
install (
	FILES ${STLINK2_HEADERS}
	DESTINATION include/stlink2
)

install (
	FILES "${CMAKE_CURRENT_SOURCE_DIR}/stlink2.h"
	DESTINATION include
)

file(GLOB STLINK2_HEADERS_INTERNAL "${CMAKE_CURRENT_SOURCE_DIR}/stlink2-internal/*.h")
set (STLINK2_HEADERS_INTERNAL "${CMAKE_CURRENT_SOURCE_DIR}/stlink2-internal.h;${STLINK2_HEADERS_INTERNAL}" CACHE INTERNAL "stlink2 internal headers")
